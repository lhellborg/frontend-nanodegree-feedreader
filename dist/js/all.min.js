function init(){loadFeed(0)}function loadFeed(e,n){var t=allFeeds[e].url,i=allFeeds[e].name;$.ajax({type:"POST",url:"https://rsstojson.udacity.com/parseFeed",data:JSON.stringify({url:t}),contentType:"application/json",success:function(e,t){var o=$(".feed"),a=$(".header-title"),c=e.feed.entries,d=(c.length,Handlebars.compile($(".tpl-entry").html()));a.html(i),o.empty(),c.forEach(function(e){o.append(d(e))}),n&&n()},error:function(e,t,i){n&&n()},dataType:"json"})}var allFeeds=[{name:"Udacity Blog",url:"http://blog.udacity.com/feed"},{name:"CSS Tricks",url:"http://css-tricks.com/feed"},{name:"HTML5 Rocks",url:"http://feeds.feedburner.com/html5rocks"},{name:"Linear Digressions",url:"http://feeds.feedburner.com/udacity-linear-digressions"}];google.load("feeds","1"),google.setOnLoadCallback(init),$(function(){var e=($(".feed"),$(".feed-list")),n=Handlebars.compile($(".tpl-feed-list-item").html()),t=0,i=$(".menu-icon-link");allFeeds.forEach(function(i){i.id=t,e.append(n(i)),t++}),e.on("click","a",function(){var e=$(this);return $("body").addClass("menu-hidden"),loadFeed(e.data("id")),!1}),i.on("click",function(){$("body").toggleClass("menu-hidden")})}()),$(function(){describe("RSS Feeds",function(){it("are defined",function(){expect(allFeeds).toBeDefined(),expect(allFeeds.length).not.toBe(0)}),it("each feed has a URL defined and it is not empty",function(){allFeeds.forEach(function(e){expect(e.url).toBeDefined(),expect(e.url).not.toBe("")})}),it("each feed has a name defined and it is not empty",function(){allFeeds.forEach(function(e){expect(e.name).toBeDefined(),expect(e.name).not.toBe("")})})}),describe("The menu",function(){beforeEach(function(){jasmine.addMatchers({toHaveClass:function(){return{compare:function(e,n){return{pass:$(e).hasClass(n)}}}}})}),it('should have class "menu-hidden" by default',function(){var e=$("body");expect(e).toHaveClass("menu-hidden")}),it("toggles between hidden and visible on click",function(){$trigger=$(".menu-icon-link"),$body=$("body"),$trigger.trigger("click"),expect($body).not.toHaveClass("menu-hidden"),$trigger.trigger("click"),expect($body).toHaveClass("menu-hidden")})}),describe("Initial Entries",function(){beforeEach(function(){jasmine.addMatchers({toExist:function(){return{compare:function(e){return{pass:$(e).length}}}}})}),beforeEach(function(e){loadFeed(0,function(){e()})}),it("should have at least one entry",function(e){expect($(".entry")).toExist(),e()})}),describe("New Feed Selection",function(){var e,n;beforeEach(function(n){loadFeed(0,function(){$entry=$(".entry"),e=$entry[0].innerText,n()})}),beforeEach(function(e){loadFeed(1,function(){$entry=$(".entry"),n=$entry[0].innerText,e()})}),it("should alter the content",function(t){expect(e).not.toEqual(n),t()})})}());